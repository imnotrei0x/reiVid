<!DOCTYPE html>
<html>
<head>
    <title>reiVid</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" type="image/png" href="/assets/logo.png">
    <meta name="msapplication-TileImage" content="/assets/favicon.ico">
    <meta property="og:image" content="/assets/logo.png">
    <link rel="stylesheet" href="/styles/styles.css">
    <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.11.0/dist/ffmpeg.min.js"></script>
    <script src="https://unpkg.com/@ffmpeg/core@0.11.0/dist/ffmpeg-core.js"></script>
    <script src="/js/editor.js"></script>
    <style>
        .editor-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a1a;
            z-index: 1000;
            display: none;
        }
        
        .editor-overlay.active {
            display: block;
        }

        #landing {
            opacity: 1;
            transition: opacity 0.3s ease-in;
        }
        
        #landing.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container" id="landing">
        <div class="header">
            <img src="/assets/logo.png" alt="reiVid" class="logo">
            <h1>reiVid</h1>
        </div>
        <p class="description">trim and crop videos in your browser</p>
        <button class="upload-button" onclick="handleFileSelect()">Select Video</button>
        
        <div class="footer-links">
            <a href="/about">about</a>
            <a href="/donate">donate</a>
            <a href="/terms">terms</a>
            <a href="/privacy">privacy</a>
        </div>
    </div>

    <div class="editor-overlay" id="editor">
        <!-- Copy the contents of editor.html here -->
    </div>

    <script>
        function handleFileSelect() {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = 'video/*';
            fileInput.style.display = 'none';
            
            fileInput.onchange = async function(e) {
                const file = e.target.files[0];
                if (file) {
                    document.getElementById('landing').classList.add('hidden');
                    document.getElementById('editor').classList.add('active');
                    
                    // Create URL for the video file
                    const videoUrl = URL.createObjectURL(file);
                    initEditor(videoUrl);
                }
            };
            
            fileInput.click();
        }
    </script>
</body>
</html>